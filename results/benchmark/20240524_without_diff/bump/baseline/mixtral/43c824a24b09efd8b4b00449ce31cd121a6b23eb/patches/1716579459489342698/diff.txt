2,4c2,8
<     List<String> list = extractList(cache, branch);
<     if (!list.isEmpty())
<       return list.get(0);
---
>     List<?> list = extractList(cache, branch);
>     if (list != null && !list.isEmpty()) {
>         Object first = list.get(0);
>         if (first instanceof String) {
>             return (String) first;
>         }
>     }
