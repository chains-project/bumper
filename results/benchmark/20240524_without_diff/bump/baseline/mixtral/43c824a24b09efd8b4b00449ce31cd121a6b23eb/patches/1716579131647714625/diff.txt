2c2
<     List<XmlFieldInstance> instances = cache.get(branch.getJsonPath());
---
>     List<Object> instances = cache.get(branch.getJsonPath());
5,6c5,12
<       for (XmlFieldInstance instance : instances)
<         values.add(instance.getValue());
---
>       for (Object instance : instances) {
>         if (instance instanceof JsonNode) {
>           JsonNode node = (JsonNode) instance;
>           if (!node.isMissingNode() && !node.isNull()) {
>             values.add(node.asText());
>           }
>         }
>       }
