import net.minecraft.server.v1_16_R3.EntityPlayer;
import net.minecraft.server.v1_16_R3.GameProfile;
import net.minecraft.server.v1_16_R3.MinecraftServer;
import net.minecraft.server.v1_16_R3.PlayerInteractManager;
import net.minecraft.server.v1_16_R3.WorldServer;
import org.bukkit.Bukkit;
import org.bukkit.craftbukkit.v1_16_R3.CraftServer;
import org.bukkit.craftbukkit.v1_16_R3.CraftWorld;
import org.bukkit.craftbukkit.v1_16_R3.entity.CraftPlayer;
import org.bukkit.entity.Player;

import java.util.UUID;
import java.util.regex.Pattern;

import static org.apache.commons.lang3.RandomStringUtils.randomAlphanumeric;
import static org.apache.commons.lang3.RandomStringUtils.randomAlphanumeric(int i);
import static org.apache.commons.lang3.RandomUtils.nextBoolean;
import static org.apache.commons.lang3.RandomUtils.nextInt;

public class PlayerUtils {

    // ...

    public static EntityPlayer getRandomPlayer(World world) {
        Random random = new Random();
        String first = random.nextBoolean()
                ? randomAlphanumeric(nextInt(13) + 1)
                : getRandomWord();
        String last = random.nextBoolean()
                ? randomAlphanumeric(nextInt(13) + 1)
                : getRandomWord();

        if (random.nextBoolean()) {
            first = leetConvert(first);
            last = leetConvert(last);
        }

        String name = first + (random.nextBoolean() ? "_" : "") + last + (random.nextBoolean() ? "19" + nextInt(120) : "");
        if (Pattern.matches("^.{17,}$", name))
            name = random.nextBoolean() ? first : last;

        if (Pattern.matches("^.{17,}$", name))
            name = randomAlphanumeric(16);

        WorldServer worldServer = ((CraftWorld) world).getHandle();

        Pair<String, String> skin = getRandomSkin();

        GameProfile profile = new GameProfile(UUID.randomUUID(), name);

        profile.getProperties().put("textures", new Property("textures", skin.getLeft(), skin.getRight()));

        return new EntityPlayer(
                ((CraftServer) Bukkit.getServer()).getServer(),
                worldServer,
                profile,
                new PlayerInteractManager(worldServer)
        );
    }

    // ...

    private static String leetConvert(String input) {
        // Implement leet conversion here
    }

    // ...

}