import org.codehaus.plexus.components.io.directoryscanner.DirectoryScanner;

// ...

@Override
protected void scanDirectories(File baseDir, List<File> dirs) throws MojoExecutionException {
  DirectoryScanner scanner = new DirectoryScanner();
  scanner.setBasedir(baseDir.getAbsolutePath());
  scanner.setIncludes(new String[]{"**/*"});
  scanner.scan();
  String[] files = scanner.getIncludedFiles();
  for (String file : files) {
    File f = new File(baseDir, file);
    if (f.isDirectory()) {
      dirs.add(f);
    }
  }
}