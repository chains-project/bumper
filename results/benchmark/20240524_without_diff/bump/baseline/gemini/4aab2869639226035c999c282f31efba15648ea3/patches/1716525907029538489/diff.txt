5,11c5,9
<             return new YamlPolicy(
<                 new BlockingStorage(
<                     new Storages().newStorage(
<                         sub.string("type"), Yaml.createYamlInput(sub.toString()).readYamlMapping()
<                     )
<                 )
<             );
---
>         final StoragesLoader loader = new StoragesLoader();
>         final Config storageConfig = new Config.From(sub.asMap());
>         final String factoryName = loader.getFactoryName(BlockingStorage.class);
>         final Storage storage = loader.newObject(factoryName, storageConfig);
>         return new YamlPolicy(new BlockingStorage(storage));
