8c8
<         blobs.put(
---
>         final CompletableFuture<Blob> put = blobs.put(
10c10,11
<         ).toCompletableFuture().handle(
---
>         );
>         final CompletableFuture<Void> handle = put.handle(
22,28c23,26
<                 MatcherAssert.assertThat(
<                     "Exception message contains calculated digest",
<                     Throwables.getRootCause(throwable).getMessage(),
<                     new StringContains(
<                         true,
<                         "3a6eb0790f39ac87c94f3856b2dd2c5d110e6811602261a9a923d3bb23adc8b7"
<                     )
---
>                 final String expected = String.format(
>                     "Expected digest '%s' does not match calculated digest '%s'",
>                     digest,
>                     blob.hash()
33c31
<                     new StringContains(true, digest)
---
>                     new StringContains(true, expected)
37c35,36
<         ).join();
---
>         );
>         handle.join();
