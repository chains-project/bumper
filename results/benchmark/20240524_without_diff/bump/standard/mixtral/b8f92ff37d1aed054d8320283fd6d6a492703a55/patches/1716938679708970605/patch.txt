import org.apache.maven.surefire.api.testset.TestFileSet;
import org.apache.maven.surefire.api.testset.TestListResolver;
import org.apache.maven.surefire.api.testset.TestSet;
import org.apache.maven.surefire.api.util.SurefireReflectionUtils;

import java.io.File;
import java.util.List;
import java.util.stream.Collectors;

static List<String> getClassesLoc(File testSrcFolder) {
    TestListResolver testListResolver = new TestListResolver();
    TestFileSet testFileSet = new TestFileSet(testSrcFolder);
    TestSet testSet = testListResolver.resolveTestSets(testFileSet, null).get(0);
    return testSet.getIncludedFiles().stream()
            .map(SurefireReflectionUtils::getFileNameWithoutExtension)
            .collect(Collectors.toList());
}