import org.apache.maven.surefire.api.testset.TestFileSet;
import org.apache.maven.surefire.api.testset.TestListResolver;
import org.apache.maven.surefire.api.testset.TestSetFailedException;

import java.io.File;
import java.util.List;
import java.util.regex.Pattern;

public class SourceFolderFinder {
    // ...

    static List<String> getClassesLoc(File testSrcFolder) {
        DirectoryScanner directoryScanner = new DirectoryScanner(testSrcFolder, TestListResolver.getWildcard(Pattern.compile(".*")));
        try {
            return directoryScanner.scan().getClasses();
        } catch (TestSetFailedException e) {
            throw new RuntimeException("Error scanning directory", e);
        }
    }

    // ...
}