0a1,4
> import static java.util.stream.Collectors.toList;
> import java.io.File;
> import java.util.List;
> 
2,3c6,15
<         DirectoryScanner directoryScanner = new DirectoryScanner(testSrcFolder, TestListResolver.getWildcard());
<         return directoryScanner.scan().getClasses();
---
>     org.apache.maven.plugin.surefire.util.DirectoryScanner directoryScanner = new org.apache.maven.plugin.surefire.util.DirectoryScanner(testSrcFolder, new org.apache.maven.surefire.api.testset.TestListResolver() {
>         @Override
>         public String getWildcard() {
>             return "**/*.class";
>         }
>     });
>     return directoryScanner.scan().getIncludedFiles().stream()
>         .filter(file -> file.endsWith(".class"))
>         .map(file -> file.substring(0, file.length() - 6))
>         .collect(toList());
