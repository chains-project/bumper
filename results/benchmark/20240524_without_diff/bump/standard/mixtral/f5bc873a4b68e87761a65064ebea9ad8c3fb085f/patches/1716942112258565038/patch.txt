import org.apache.maven.model.Model;
import org.apache.maven.project.MavenProject;

import java.util.Optional;

public class AbstractThemeMojo {
    // existing code

    protected MavenProject getMavenProject() {
        Model model = (Model) getProject().getOriginalModel();
        Optional<MavenProject> mavenProject = getProjectBuilder().build(model).stream().findFirst();
        return mavenProject.orElseThrow(() -> new RuntimeException("Maven project could not be built"));
    }

    // existing code
}