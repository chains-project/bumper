import java.io.OutputStream;
import org.apache.thrift.transport.TIOStreamTransport;
import org.apache.thrift.protocol.TBinaryProtocol;

@java.lang.Override
public void init(java.io.OutputStream os) {
    this.os = os;

    // Use the MockTFastFramedTransport to be compatible with singer_thrift log.
    final int bufferCapacity = 10;
    framedTransport = new MockTFastFramedTransport(new TIOStreamTransport(os), bufferCapacity);
    protocol = new TBinaryProtocol(framedTransport);
}

// Add the new mock class
public static class MockTFastFramedTransport extends com.pinterest.singer.client.logback.TFastFramedTransport {
    public MockTFastFramedTransport(TIOStreamTransport transport, int bufferCapacity) {
        super(transport, bufferCapacity);
    }

    @Override
    public void open() throws org.apache.thrift.transport.TTransportException {
        // Do nothing
    }

    @Override
    public void close() throws org.apache.thrift.transport.TTransportException {
        // Do nothing
    }
}