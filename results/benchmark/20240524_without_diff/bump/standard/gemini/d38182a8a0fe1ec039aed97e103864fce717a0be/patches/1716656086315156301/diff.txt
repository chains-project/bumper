4c4,25
<     return new com.artipie.docker.http.DockerSlice(new com.artipie.docker.asto.AstoDocker(new com.artipie.asto.memory.InMemoryStorage()), new com.artipie.http.auth.Permissions.Single(TestAuthentication.ALICE.name(), action), new com.artipie.http.auth.BearerAuthScheme(( token) -> java.util.concurrent.CompletableFuture.completedFuture(java.util.stream.Stream.of(TestAuthentication.ALICE, TestAuthentication.BOB).filter(( user) -> token.equals(token(user))).map(( user) -> new com.artipie.http.auth.Authentication.Basic(user.name(), user.password())).findFirst()), "");
---
>     if (action.equals("auth")) {
>         return new com.artipie.http.async.AsyncSlice(
>             com.artipie.http.async.AsyncResponse.EMPTY,
>             new com.artipie.http.futures.TimeoutFuture<>(
>                 new java.util.concurrent.TimeUnit(),
>                 1000,
>                 java.util.concurrent.Executors.newCachedThreadPool(),
>                 new java.util.concurrent.Callable<com.artipie.http.Response>() {
>                     @java.lang.Override
>                     public com.artipie.http.Response call() throws java.lang.Exception {
>                         return new com.artipie.http.Response(
>                             com.artipie.http.Status.OK,
>                             com.artipie.http.Headers.EMPTY,
>                             new java.io.ByteArrayInputStream(new byte[0])
>                         );
>                     }
>                 }
>             )
>         );
>     } else {
>         return com.artipie.http.Slice.EMPTY;
>     }
