{
    "py/object": "pipeline.types.detected_fault.DetectedFault",
    "identifier": 1519736165,
    "in_class_code": "/**\n * NPC\u306eTeleport\u3092\u7ba1\u7406\u3059\u308b\u3002\n */\npublic class NPCTeleport {\n    /**\n     * AuraBot\u306e\u30c6\u30ec\u30dd\u30fc\u30c8\u3002\n     *\n     * @param player\n     * \t\t\u30d7\u30ec\u30a4\u30e4\u30fc\u3002\n     * @param target\n     * \t\t\u30bf\u30fc\u30b2\u30c3\u30c8\u3002\n     * @param arm\n     * \t\t\u88c5\u5099\u3002\n     * @param reachMode\n     * \t\t\u30ea\u30fc\u30c1\u30e2\u30fc\u30c9\u304b\u3069\u3046\u304b\u3002\n     */\n    private static void auraBotTeleport(Player player, EntityPlayer target, ItemStack[] arm, boolean reachMode) {\n        final double[] time = new double[]{ 0.0 };\n        final double radius = (reachMode) ? config.getDouble(\"npc.reachRange\") : config.getDoubleList(\"npc.range\").get(new Random().nextInt(config.getDoubleList(\"npc.range\").size()));\n        WaveCreator ypp = new WaveCreator(10.0, 100.0, 10.0);\n        final int[] count = new int[]{ 0 };\n        BukkitRunnable r = new BukkitRunnable() {\n            public void run() {\n                double speed = 0.0;\n                if (player.hasMetadata(\"speed\")) {\n                    for (MetadataValue value : player.getMetadata(\"speed\")) {\n                        if (value.getOwningPlugin().getName().equals(PeyangSuperbAntiCheat.getPlugin().getName())) {\n                            speed = value.asDouble() * 2.0;\n                        }\n                    }\n                }\n                for (double i = 0; i < (Math.PI * 2); i++) {\n                    double rangeTmp = radius;\n                    if (config.getBoolean(\"npc.wave\")) {\n                        rangeTmp = new WaveCreator(radius - 0.1, radius, config.getDouble(\"npc.waveMin\")).get(0.01, true);\n                    }\n                    final Location center = player.getLocation();\n                    final Location n = new Location(center.getWorld(), auraBotXPos(time[0], rangeTmp + speed) + center.getX(), center.getY() + new WaveCreator(1.0, 2.0, 0.0).get(0.01, count[0] < 20), auraBotZPos(time[0], rangeTmp + speed) + center.getZ(), ((float) (ypp.getStatic())), ((float) (ypp.get(4.5, false))));\n                    NPC.setLocation(n, target);\n                    ((CraftPlayer) (player)).getHandle().playerConnection.sendPacket(new PacketPlayOutEntityTeleport(target));\n                    NPC.setArmor(player, target, arm);\n                    new BukkitRunnable() {\n                        @Override\n                        public void run() {\n                            Bukkit.getOnlinePlayers().parallelStream().filter(p -> p.hasPermission(\"psac.viewnpc\")).forEachOrdered(p -> {\n                                ((CraftPlayer) (p)).getHandle().playerConnection.sendPacket(new PacketPlayOutEntityTeleport(target));\n                                NPC.setArmor(p, target, arm);\n                            });\n                            this.cancel();\n                        }\n                    }.runTask(PeyangSuperbAntiCheat.getPlugin());\n                    count[0]++;\n                    CheatDetectNowMeta meta = cheatMeta.getMetaByPlayerUUID(player.getUniqueId());\n                    if (meta == null) {\n                        continue;\n                    }\n                    meta.setNpcLocation(n.toVector());\n                }\n                time[0] += config.getDouble(\"npc.time\") + (config.getBoolean(\"npc.speed.wave\") ? new WaveCreator(0.0, config.getDouble(\"npc.speed.waveRange\"), 0 - config.getDouble(\"npc.speed.waveRange\")).get(0.001, true) : 0.0);\n            }\n        };\n        r.runTaskTimer(PeyangSuperbAntiCheat.getPlugin(), 0, 1);\n        new BukkitRunnable() {\n            @Override\n            public void run() {\n                r.cancel();\n                this.cancel();\n            }\n        }.runTaskLater(PeyangSuperbAntiCheat.getPlugin(), 20 * config.getLong(\"npc.seconds\"));\n    }\n}",
    "qualified_in_class_code": "/**\n * NPC\u306eTeleport\u3092\u7ba1\u7406\u3059\u308b\u3002\n */\npublic class NPCTeleport {\n    /**\n     * AuraBot\u306e\u30c6\u30ec\u30dd\u30fc\u30c8\u3002\n     *\n     * @param player\n     * \t\t\u30d7\u30ec\u30a4\u30e4\u30fc\u3002\n     * @param target\n     * \t\t\u30bf\u30fc\u30b2\u30c3\u30c8\u3002\n     * @param arm\n     * \t\t\u88c5\u5099\u3002\n     * @param reachMode\n     * \t\t\u30ea\u30fc\u30c1\u30e2\u30fc\u30c9\u304b\u3069\u3046\u304b\u3002\n     */\n    private static void auraBotTeleport(Player player, EntityPlayer target, ItemStack[] arm, boolean reachMode) {\n        final double[] time = new double[]{ 0.0 };\n        final double radius = (reachMode) ? ml.peya.plugins.Variables.config.getDouble(\"npc.reachRange\") : ml.peya.plugins.Variables.config.getDoubleList(\"npc.range\").get(new java.util.Random().nextInt(ml.peya.plugins.Variables.config.getDoubleList(\"npc.range\").size()));\n        WaveCreator ypp = new WaveCreator(10.0, 100.0, 10.0);\n        final int[] count = new int[]{ 0 };\n        BukkitRunnable r = new BukkitRunnable() {\n            public void run() {\n                double speed = 0.0;\n                if (player.hasMetadata(\"speed\"))\n                    for (MetadataValue value : player.getMetadata(\"speed\"))\n                        if (value.getOwningPlugin().getName().equals(PeyangSuperbAntiCheat.getPlugin().getName()))\n                            speed = value.asDouble() * 2.0;\n\n\n\n                for (double i = 0; i < (java.lang.Math.PI * 2); i++) {\n                    double rangeTmp = radius;\n                    if (ml.peya.plugins.Variables.config.getBoolean(\"npc.wave\"))\n                        rangeTmp = new WaveCreator(radius - 0.1, radius, ml.peya.plugins.Variables.config.getDouble(\"npc.waveMin\")).get(0.01, true);\n\n                    final Location center = player.getLocation();\n                    final Location n = new Location(center.getWorld(), ml.peya.plugins.Detect.NPCTeleport.auraBotXPos(time[0], rangeTmp + speed) + center.getX(), center.getY() + new WaveCreator(1.0, 2.0, 0.0).get(0.01, count[0] < 20), ml.peya.plugins.Detect.NPCTeleport.auraBotZPos(time[0], rangeTmp + speed) + center.getZ(), ((float) (ypp.getStatic())), ((float) (ypp.get(4.5, false))));\n                    NPC.setLocation(n, target);\n                    ((CraftPlayer) (player)).getHandle().playerConnection.sendPacket(new PacketPlayOutEntityTeleport(target));\n                    NPC.setArmor(player, target, arm);\n                    new BukkitRunnable() {\n                        @java.lang.Override\n                        public void run() {\n                            Bukkit.getOnlinePlayers().parallelStream().filter(( p) -> p.hasPermission(\"psac.viewnpc\")).forEachOrdered(( p) -> {\n                                ((CraftPlayer) (p)).getHandle().playerConnection.sendPacket(new PacketPlayOutEntityTeleport(target));\n                                NPC.setArmor(p, target, arm);\n                            });\n                            this.cancel();\n                        }\n                    }.runTask(PeyangSuperbAntiCheat.getPlugin());\n                    count[0]++;\n                    CheatDetectNowMeta meta = ml.peya.plugins.Variables.cheatMeta.getMetaByPlayerUUID(player.getUniqueId());\n                    if (meta == null)\n                        continue;\n\n                    meta.setNpcLocation(n.toVector());\n                }\n                time[0] += ml.peya.plugins.Variables.config.getDouble(\"npc.time\") + (ml.peya.plugins.Variables.config.getBoolean(\"npc.speed.wave\") ? new WaveCreator(0.0, ml.peya.plugins.Variables.config.getDouble(\"npc.speed.waveRange\"), 0 - ml.peya.plugins.Variables.config.getDouble(\"npc.speed.waveRange\")).get(0.001, true) : 0.0);\n            }\n        };\n        r.runTaskTimer(PeyangSuperbAntiCheat.getPlugin(), 0, 1);\n        new BukkitRunnable() {\n            @java.lang.Override\n            public void run() {\n                r.cancel();\n                this.cancel();\n            }\n        }.runTaskLater(PeyangSuperbAntiCheat.getPlugin(), 20 * ml.peya.plugins.Variables.config.getLong(\"npc.seconds\"));\n    }\n}",
    "plausible_dependency_identifier": null,
    "error_info": {
        "py/object": "pipeline.types.error_info.ErrorInfo",
        "additional_info": "  symbol:   class WaveCreator\n  location: class ml.peya.plugins.Detect.NPCTeleport\n",
        "error_message": "[ERROR] /PeyangSuperbAntiCheat/src/main/java/ml/peya/plugins/Detect/NPCTeleport.java:[162,9] cannot find symbol",
        "client_file_path": "/PeyangSuperbAntiCheat/src/main/java/ml/peya/plugins/Detect/NPCTeleport.java",
        "client_line_position": "162"
    },
    "client_end_line_number": 237,
    "client_line_number": 148,
    "method_code": "/**\n     * AuraBot\u306e\u30c6\u30ec\u30dd\u30fc\u30c8\u3002\n     *\n     * @param player    \u30d7\u30ec\u30a4\u30e4\u30fc\u3002\n     * @param target    \u30bf\u30fc\u30b2\u30c3\u30c8\u3002\n     * @param arm       \u88c5\u5099\u3002\n     * @param reachMode \u30ea\u30fc\u30c1\u30e2\u30fc\u30c9\u304b\u3069\u3046\u304b\u3002\n     */\n    private static void auraBotTeleport(Player player, EntityPlayer target, ItemStack[] arm, boolean reachMode)\n    {\n        final double[] time = {0.0};\n        final double radius = reachMode ? config.getDouble(\"npc.reachRange\"): config.getDoubleList(\"npc.range\")\n            .get(new Random().nextInt(config.getDoubleList(\"npc.range\").size()));\n\n        WaveCreator ypp = new WaveCreator(10.0, 100.0, 10.0);\n\n        final int[] count = {0};\n        BukkitRunnable r = new BukkitRunnable()\n        {\n            public void run()\n            {\n                double speed = 0.0;\n\n                if (player.hasMetadata(\"speed\"))\n                    for (MetadataValue value : player.getMetadata(\"speed\"))\n                        if (value.getOwningPlugin().getName().equals(PeyangSuperbAntiCheat.getPlugin().getName()))\n                            speed = value.asDouble() * 2.0;\n                for (double i = 0; i < Math.PI * 2; i++)\n                {\n                    double rangeTmp = radius;\n\n                    if (config.getBoolean(\"npc.wave\"))\n                        rangeTmp = new WaveCreator(radius - 0.1, radius, config.getDouble(\"npc.waveMin\"))\n                            .get(0.01, true);\n\n                    final Location center = player.getLocation();\n                    final Location n = new Location(\n                        center.getWorld(),\n                        auraBotXPos(time[0], rangeTmp + speed) + center.getX(),\n                        center.getY() + new WaveCreator(1.0, 2.0, 0.0).get(0.01, count[0] < 20),\n                        auraBotZPos(time[0], rangeTmp + speed) + center.getZ(),\n                        (float) ypp.getStatic(),\n                        (float) ypp.get(4.5, false)\n                    );\n\n                    NPC.setLocation(n, target);\n                    ((CraftPlayer) player).getHandle().playerConnection\n                        .sendPacket(new PacketPlayOutEntityTeleport(target));\n\n                    NPC.setArmor(player, target, arm);\n                    new BukkitRunnable()\n                    {\n                        @Override\n                        public void run()\n                        {\n                            Bukkit.getOnlinePlayers()\n                                .parallelStream()\n                                .filter(p -> p.hasPermission(\"psac.viewnpc\"))\n                                .forEachOrdered(p ->\n                                {\n                                    ((CraftPlayer) p).getHandle().playerConnection\n                                        .sendPacket(new PacketPlayOutEntityTeleport(target));\n                                    NPC.setArmor(p, target, arm);\n                                });\n                            this.cancel();\n                        }\n                    }.runTask(PeyangSuperbAntiCheat.getPlugin());\n                    count[0]++;\n                    CheatDetectNowMeta meta = cheatMeta.getMetaByPlayerUUID(player.getUniqueId());\n                    if (meta == null) continue;\n                    meta.setNpcLocation(n.toVector());\n                }\n                time[0] += config.getDouble(\"npc.time\") + (config.getBoolean(\"npc.speed.wave\")\n                    ? new WaveCreator(0.0, config.getDouble(\"npc.speed.waveRange\"), 0 - config.getDouble(\"npc.speed.waveRange\")).get(0.001, true)\n                    : 0.0);\n            }\n        };\n        r.runTaskTimer(PeyangSuperbAntiCheat.getPlugin(), 0, 1);\n\n        new BukkitRunnable()\n        {\n            @Override\n            public void run()\n            {\n                r.cancel();\n                this.cancel();\n            }\n        }.runTaskLater(PeyangSuperbAntiCheat.getPlugin(), 20 * (config.getLong(\"npc.seconds\")));\n\n    }",
    "qualified_code": "/**\n * AuraBot\u306e\u30c6\u30ec\u30dd\u30fc\u30c8\u3002\n *\n * @param player\n * \t\t\u30d7\u30ec\u30a4\u30e4\u30fc\u3002\n * @param target\n * \t\t\u30bf\u30fc\u30b2\u30c3\u30c8\u3002\n * @param arm\n * \t\t\u88c5\u5099\u3002\n * @param reachMode\n * \t\t\u30ea\u30fc\u30c1\u30e2\u30fc\u30c9\u304b\u3069\u3046\u304b\u3002\n */\nprivate static void auraBotTeleport(Player player, EntityPlayer target, ItemStack[] arm, boolean reachMode) {\n    final double[] time = new double[]{ 0.0 };\n    final double radius = (reachMode) ? ml.peya.plugins.Variables.config.getDouble(\"npc.reachRange\") : ml.peya.plugins.Variables.config.getDoubleList(\"npc.range\").get(new java.util.Random().nextInt(ml.peya.plugins.Variables.config.getDoubleList(\"npc.range\").size()));\n    WaveCreator ypp = new WaveCreator(10.0, 100.0, 10.0);\n    final int[] count = new int[]{ 0 };\n    BukkitRunnable r = new BukkitRunnable() {\n        public void run() {\n            double speed = 0.0;\n            if (player.hasMetadata(\"speed\"))\n                for (MetadataValue value : player.getMetadata(\"speed\"))\n                    if (value.getOwningPlugin().getName().equals(PeyangSuperbAntiCheat.getPlugin().getName()))\n                        speed = value.asDouble() * 2.0;\n\n\n\n            for (double i = 0; i < (java.lang.Math.PI * 2); i++) {\n                double rangeTmp = radius;\n                if (ml.peya.plugins.Variables.config.getBoolean(\"npc.wave\"))\n                    rangeTmp = new WaveCreator(radius - 0.1, radius, ml.peya.plugins.Variables.config.getDouble(\"npc.waveMin\")).get(0.01, true);\n\n                final Location center = player.getLocation();\n                final Location n = new Location(center.getWorld(), ml.peya.plugins.Detect.NPCTeleport.auraBotXPos(time[0], rangeTmp + speed) + center.getX(), center.getY() + new WaveCreator(1.0, 2.0, 0.0).get(0.01, count[0] < 20), ml.peya.plugins.Detect.NPCTeleport.auraBotZPos(time[0], rangeTmp + speed) + center.getZ(), ((float) (ypp.getStatic())), ((float) (ypp.get(4.5, false))));\n                NPC.setLocation(n, target);\n                ((CraftPlayer) (player)).getHandle().playerConnection.sendPacket(new PacketPlayOutEntityTeleport(target));\n                NPC.setArmor(player, target, arm);\n                new BukkitRunnable() {\n                    @java.lang.Override\n                    public void run() {\n                        Bukkit.getOnlinePlayers().parallelStream().filter(( p) -> p.hasPermission(\"psac.viewnpc\")).forEachOrdered(( p) -> {\n                            ((CraftPlayer) (p)).getHandle().playerConnection.sendPacket(new PacketPlayOutEntityTeleport(target));\n                            NPC.setArmor(p, target, arm);\n                        });\n                        this.cancel();\n                    }\n                }.runTask(PeyangSuperbAntiCheat.getPlugin());\n                count[0]++;\n                CheatDetectNowMeta meta = ml.peya.plugins.Variables.cheatMeta.getMetaByPlayerUUID(player.getUniqueId());\n                if (meta == null)\n                    continue;\n\n                meta.setNpcLocation(n.toVector());\n            }\n            time[0] += ml.peya.plugins.Variables.config.getDouble(\"npc.time\") + (ml.peya.plugins.Variables.config.getBoolean(\"npc.speed.wave\") ? new WaveCreator(0.0, ml.peya.plugins.Variables.config.getDouble(\"npc.speed.waveRange\"), 0 - ml.peya.plugins.Variables.config.getDouble(\"npc.speed.waveRange\")).get(0.001, true) : 0.0);\n        }\n    };\n    r.runTaskTimer(PeyangSuperbAntiCheat.getPlugin(), 0, 1);\n    new BukkitRunnable() {\n        @java.lang.Override\n        public void run() {\n            r.cancel();\n            this.cancel();\n        }\n    }.runTaskLater(PeyangSuperbAntiCheat.getPlugin(), 20 * ml.peya.plugins.Variables.config.getLong(\"npc.seconds\"));\n}",
    "method_name": "auraBotTeleport"
}