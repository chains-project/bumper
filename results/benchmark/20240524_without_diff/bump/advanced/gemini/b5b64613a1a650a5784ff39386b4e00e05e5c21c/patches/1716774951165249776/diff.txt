5c5
<         if ((!org.apache.commons.collections.CollectionUtils.isEmpty(countryCodes)) || (!org.apache.commons.lang3.StringUtils.isEmpty(siteName)) || (!org.apache.commons.lang3.StringUtils.isEmpty(cityName)))) {
---
>         if (((!org.apache.commons.collections.CollectionUtils.isEmpty(countryCodes)) || (!org.apache.commons.lang3.StringUtils.isEmpty(siteName))) || (!org.apache.commons.lang3.StringUtils.isEmpty(cityName))) {
8c8
<         com.fasterxml.jackson.databind.ObjectMapper mapper = SerializationUtils.createMapper();
---
>         com.fasterxml.jackson.databind.ObjectMapper mapper = org.jfrog.hudson.pipeline.common.executors.SerializationUtils.createMapper();
12c12,18
<         request.setDistributionRules(org.jfrog.hudson.pipeline.common.Utils.createDistributionRules(countryCodes, siteName, cityName));
---
>         if (!org.apache.commons.collections.CollectionUtils.isEmpty(countryCodes)) {
>             request.setDistributionRules(org.jfrog.hudson.pipeline.common.Utils.createDistributionRules(countryCodes, null, null));
>         } else if (!org.apache.commons.lang3.StringUtils.isEmpty(siteName)) {
>             request.setDistributionRules(org.jfrog.hudson.pipeline.common.Utils.createDistributionRules(null, siteName, null));
>         } else if (!org.apache.commons.lang3.StringUtils.isEmpty(cityName)) {
>             request.setDistributionRules(org.jfrog.hudson.pipeline.common.Utils.createDistributionRules(null, null, cityName));
>         }
