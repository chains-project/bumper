12c12,19
<         EnvExtractor envExtractor = new CreateDockerBuildEnvExtractor(build, buildInfo, deployer, listener, launcher, tempDir, env, kanikoImageFile, jibImageFile);
---
>         EnvExtractor envExtractor = new CreateDockerBuildEnvExtractor(build, buildInfo, deployer, listener, launcher, tempDir, env, kanikoImageFile, jibImageFile) {
>             @Override
>             public void createEnvironment(Map<String, String> env, FilePath workDir) throws Exception {
>                 super.createEnvironment(env, workDir);
>                 // Add the following line to fix the error
>                 env.put("DOCKER_IMAGE_FILE", kanikoImageFile != null ? kanikoImageFile : jibImageFile);
>             }
>         };
