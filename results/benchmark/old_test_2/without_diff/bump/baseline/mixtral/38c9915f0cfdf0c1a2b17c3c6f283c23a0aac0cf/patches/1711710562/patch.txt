import org.cactoos.scalar.ScalarEnvelope;
import static org.cactoos.input.FileInput.from;

// ...

@Override
public Money total() throws IOException {
  return new ScalarEnvelope<Long, Money>(
    Long::valueOf,
    new Sum<>(
      new Filtered<>(
        input -> input.has("amount"),
        new Mapped<>(
          json -> parseJson(from(json.value())),
          new Lazy<Iterable<JsonInput>>(() -> readFiles("input"))
        )
      )
    )
  ).value();
}