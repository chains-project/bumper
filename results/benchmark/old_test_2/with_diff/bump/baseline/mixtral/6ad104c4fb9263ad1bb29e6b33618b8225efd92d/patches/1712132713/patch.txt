import org.bouncycastle.crypto.tls.TlsAlertDescription;

public class ChachaDecoder {
    // ...

    @Override
    public void decodeRecord(InputStream input, OutputStream output) throws IOException {
        // ...

        try {
            // ...

            if (type == TlsUtilities.ApplicationData) {
                // ...
            } else if (type == TlsUtilities.ChangeCipherSpec) {
                // ...
            } else if (type == TlsUtilities.Alert) {
                int major = readVersionMajor(input);
                int minor = readVersionMinor(input);
                int length = readVersion(input, 2);
                int desc = readUint8(input);
                TlsAlertDescription alertDescription = TlsAlertDescription.get(desc);
                throw new TlsFatalAlert(alertDescription.getAlertLevel(), alertDescription);
            } else if (type == TlsUtilities.Handshake) {
                // ...
            } else {
                // ...
            }

            // ...
        } catch (TlsFatalAlert ex) {
            // ...
        }
    }

    // ...
}