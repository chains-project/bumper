    @Override
    public Policy<?> getPolicy(final PolicyConfig config) {
        final PolicyConfig sub = config.config("storage");
        Config cfg = new Config() {
            @Override
            public <T> T get(final Class<T> type) {
                return sub.get(type);
            }

            @Override
            public String string(final String key) {
                return sub.string(key);
            }

            @Override
            public Config config(final String key) {
                return sub.config(key);
            }

            @Override
            public YamlInput yamlInput(final String string) {
                return Yaml.createYamlInput(string);
            }
        };
        try {
            return new YamlPolicy(
                new BlockingStorage(
                    new StoragesLoader().newObject(
                        cfg.string("type"), cfg.yamlInput(cfg.toString()).readYamlMapping()
                    )
                )
            );
        } catch (final IOException err) {
            throw new UncheckedIOException(err);
        }
    }