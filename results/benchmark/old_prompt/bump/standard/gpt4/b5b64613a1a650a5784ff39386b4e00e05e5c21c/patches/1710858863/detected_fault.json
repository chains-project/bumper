{
    "py/object": "pipeline.types.detected_fault.DetectedFault",
    "identifier": 1708169732,
    "in_class_code": "public class ReleaseBundleDistributeExecutor implements Executor {\n    private final DistributionManagerBuilder distributionManagerBuilder;\n\n    private final DistributeReleaseBundleRequest request;\n\n    private final transient FilePath ws;\n\n    private final String version;\n\n    private final boolean sync;\n\n    private final String name;\n\n    public ReleaseBundleDistributeExecutor(DistributionServer server, String name, String version, boolean dryRun, boolean sync, String distRules, List<String> countryCodes, String siteName, String cityName, TaskListener listener, Run<?, ?> build, FilePath ws) throws IOException {\n        this.distributionManagerBuilder = server.createDistributionManagerBuilder(new JenkinsBuildInfoLog(listener), build.getParent());\n        this.request = createRequest(distRules, countryCodes, siteName, cityName, dryRun);\n        this.ws = ws;\n        this.name = name;\n        this.version = version;\n        this.sync = sync;\n    }\n\n    private DistributeReleaseBundleRequest createRequest(String distRules, List<String> countryCodes, String siteName, String cityName, boolean dryRun) throws IOException {\n        DistributeReleaseBundleRequest request;\n        if (StringUtils.isNotBlank(distRules)) {\n            if ((!CollectionUtils.isEmpty(countryCodes)) || (!StringUtils.isAllBlank(siteName, cityName))) {\n                throw new IOException(\"The distRules input can't be used with site, city or country codes\");\n            }\n            ObjectMapper mapper = createMapper();\n            request = mapper.readValue(distRules, DistributeReleaseBundleRequest.class);\n        } else {\n            request = new DistributeReleaseBundleRequest();\n            request.setDistributionRules(Utils.createDistributionRules(countryCodes, siteName, cityName));\n        }\n        request.setDryRun(dryRun);\n        return request;\n    }\n\n    private static class ReleaseBundleDistributeCallable extends MasterToSlaveFileCallable<Void> {\n        private final DistributionManagerBuilder distributionManagerBuilder;\n\n        private final DistributeReleaseBundleRequest request;\n\n        private final String version;\n\n        private final boolean sync;\n\n        private final String name;\n\n        public ReleaseBundleDistributeCallable(DistributionManagerBuilder distributionManagerBuilder, DistributeReleaseBundleRequest request, String name, String version, boolean sync) {\n            this.distributionManagerBuilder = distributionManagerBuilder;\n            this.request = request;\n            this.name = name;\n            this.version = version;\n            this.sync = sync;\n        }\n\n        @Override\n        public Void invoke(File file, VirtualChannel channel) throws IOException, InterruptedException {\n            try (DistributionManager distributionManager = distributionManagerBuilder.build()) {\n                distributionManager.distributeReleaseBundle(name, version, sync, request);\n            }\n            return null;\n        }\n    }\n}",
    "qualified_in_class_code": "public class ReleaseBundleDistributeExecutor implements org.jfrog.hudson.pipeline.common.executors.Executor {\n    private final org.jfrog.build.extractor.clientConfiguration.DistributionManagerBuilder distributionManagerBuilder;\n\n    private final org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest request;\n\n    private final transient hudson.FilePath ws;\n\n    private final java.lang.String version;\n\n    private final boolean sync;\n\n    private final java.lang.String name;\n\n    public ReleaseBundleDistributeExecutor(org.jfrog.hudson.pipeline.common.types.DistributionServer server, java.lang.String name, java.lang.String version, boolean dryRun, boolean sync, java.lang.String distRules, java.util.List<java.lang.String> countryCodes, java.lang.String siteName, java.lang.String cityName, hudson.model.TaskListener listener, hudson.model.Run<?, ?> build, hudson.FilePath ws) throws java.io.IOException {\n        this.distributionManagerBuilder = server.createDistributionManagerBuilder(new org.jfrog.hudson.util.JenkinsBuildInfoLog(listener), build.getParent());\n        this.request = createRequest(distRules, countryCodes, siteName, cityName, dryRun);\n        this.ws = ws;\n        this.name = name;\n        this.version = version;\n        this.sync = sync;\n    }\n\n    private org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest createRequest(java.lang.String distRules, java.util.List<java.lang.String> countryCodes, java.lang.String siteName, java.lang.String cityName, boolean dryRun) throws java.io.IOException {\n        org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest request;\n        if (org.apache.commons.lang3.StringUtils.isNotBlank(distRules)) {\n            if ((!org.apache.commons.collections.CollectionUtils.isEmpty(countryCodes)) || (!org.apache.commons.lang3.StringUtils.isAllBlank(siteName, cityName))) {\n                throw new java.io.IOException(\"The distRules input can't be used with site, city or country codes\");\n            }\n            com.fasterxml.jackson.databind.ObjectMapper mapper = SerializationUtils.createMapper();\n            request = mapper.readValue(distRules, org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest.class);\n        } else {\n            request = new org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest();\n            request.setDistributionRules(org.jfrog.hudson.pipeline.common.Utils.createDistributionRules(countryCodes, siteName, cityName));\n        }\n        request.setDryRun(dryRun);\n        return request;\n    }\n\n    private static class ReleaseBundleDistributeCallable extends jenkins.MasterToSlaveFileCallable<java.lang.Void> {\n        private final org.jfrog.build.extractor.clientConfiguration.DistributionManagerBuilder distributionManagerBuilder;\n\n        private final org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest request;\n\n        private final java.lang.String version;\n\n        private final boolean sync;\n\n        private final java.lang.String name;\n\n        public ReleaseBundleDistributeCallable(org.jfrog.build.extractor.clientConfiguration.DistributionManagerBuilder distributionManagerBuilder, org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest request, java.lang.String name, java.lang.String version, boolean sync) {\n            this.distributionManagerBuilder = distributionManagerBuilder;\n            this.request = request;\n            this.name = name;\n            this.version = version;\n            this.sync = sync;\n        }\n\n        @java.lang.Override\n        public java.lang.Void invoke(java.io.File file, hudson.remoting.VirtualChannel channel) throws java.io.IOException, java.lang.InterruptedException {\n            try (org.jfrog.build.extractor.clientConfiguration.client.distribution.DistributionManager distributionManager = distributionManagerBuilder.build()) {\n                distributionManager.distributeReleaseBundle(name, version, sync, request);\n            }\n            return null;\n        }\n    }\n}",
    "plausible_dependency_identifier": null,
    "error_info": {
        "py/object": "pipeline.types.error_info.ErrorInfo",
        "additional_info": "  symbol:   method isAllBlank(java.lang.String,java.lang.String)\n  location: class org.apache.commons.lang3.StringUtils\n",
        "error_message": "[ERROR] /artifactory-plugin/src/main/java/org/jfrog/hudson/pipeline/common/executors/ReleaseBundleDistributeExecutor.java:[51,71] cannot find symbol",
        "client_file_path": "/artifactory-plugin/src/main/java/org/jfrog/hudson/pipeline/common/executors/ReleaseBundleDistributeExecutor.java",
        "client_line_position": "51"
    },
    "client_end_line_number": 62,
    "client_line_number": 47,
    "method_code": "private DistributeReleaseBundleRequest createRequest(String distRules, List<String> countryCodes,\n                                                         String siteName, String cityName, boolean dryRun) throws IOException {\n        DistributeReleaseBundleRequest request;\n        if (StringUtils.isNotBlank(distRules)) {\n            if (!CollectionUtils.isEmpty(countryCodes) || !StringUtils.isAllBlank(siteName, cityName)) {\n                throw new IOException(\"The distRules input can't be used with site, city or country codes\");\n            }\n            ObjectMapper mapper = createMapper();\n            request = mapper.readValue(distRules, DistributeReleaseBundleRequest.class);\n        } else {\n            request = new DistributeReleaseBundleRequest();\n            request.setDistributionRules(Utils.createDistributionRules(countryCodes, siteName, cityName));\n        }\n        request.setDryRun(dryRun);\n        return request;\n    }",
    "qualified_code": "private org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest createRequest(java.lang.String distRules, java.util.List<java.lang.String> countryCodes, java.lang.String siteName, java.lang.String cityName, boolean dryRun) throws java.io.IOException {\n    org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest request;\n    if (org.apache.commons.lang3.StringUtils.isNotBlank(distRules)) {\n        if ((!org.apache.commons.collections.CollectionUtils.isEmpty(countryCodes)) || (!org.apache.commons.lang3.StringUtils.isAllBlank(siteName, cityName))) {\n            throw new java.io.IOException(\"The distRules input can't be used with site, city or country codes\");\n        }\n        com.fasterxml.jackson.databind.ObjectMapper mapper = SerializationUtils.createMapper();\n        request = mapper.readValue(distRules, org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest.class);\n    } else {\n        request = new org.jfrog.build.extractor.clientConfiguration.client.distribution.request.DistributeReleaseBundleRequest();\n        request.setDistributionRules(org.jfrog.hudson.pipeline.common.Utils.createDistributionRules(countryCodes, siteName, cityName));\n    }\n    request.setDryRun(dryRun);\n    return request;\n}",
    "method_name": "createRequest"
}