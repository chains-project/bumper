static List<String> getClassesLoc(File testSrcFolder) {
    DirectoryScanner directoryScanner = new DirectoryScanner(testSrcFolder, getTestListResolver().getWildcard());
    return directoryScanner.scan().getClasses();
}

private static TestListResolver getTestListResolver() {
    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
    try {
        return classLoader.loadClass("org.apache.maven.surefire.api.testset.TestListResolver")
            .asSubclass(TestListResolver.class)
            .getDeclaredConstructor()
            .newInstance();
    } catch (ReflectiveOperationException e) {
        throw new RuntimeException("Failed to create TestListResolver instance", e);
    }
}