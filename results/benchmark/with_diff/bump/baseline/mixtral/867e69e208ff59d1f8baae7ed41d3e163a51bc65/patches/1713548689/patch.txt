import org.apache. thrift.transport.TTransport;
import org.apache. thrift.transport.TFramedTransport;

public class SimpleThriftLogger {
  // ...

  @Override
  public void startLogging(TTransport transport) {
    if (transport instanceof TFramedTransport) {
      TFramedTransport framedTransport = (TFramedTransport) transport;
      framedTransport.open();
    } else {
      transport.open();
    }
  }

  // ...
}