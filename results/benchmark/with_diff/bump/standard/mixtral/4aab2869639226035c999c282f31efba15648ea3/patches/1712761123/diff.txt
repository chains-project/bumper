5,11c5,9
<             return new YamlPolicy(
<                 new BlockingStorage(
<                     new Storages().newStorage(
<                         sub.string("type"), Yaml.createYamlInput(sub.toString()).readYamlMapping()
<                     )
<                 )
<             );
---
>         StoragesLoader storages = new StoragesLoader();
>         return new YamlPolicy(new BlockingStorage(storages.newObject(
>             sub.string("type"),
>             new YamlInput(sub.toString()).asMapping()
>         )));
15a14,25
> 
> private static class YamlInput implements com.artipie.asto.factory.Input {
>     private final YamlMapping yaml;
> 
>     YamlInput(String yaml) {
>         this.yaml = Yaml.createYamlInput(yaml).readYamlMapping();
>     }
> 
>     YamlMapping asMapping() {
>         return yaml;
>     }
> }
\ No newline at end of file
