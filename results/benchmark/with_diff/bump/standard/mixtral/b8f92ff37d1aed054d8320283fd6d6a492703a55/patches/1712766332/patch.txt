import org.apache.maven.plugin.surefire.booterclient.lazytestprovider.Commandline;
import org.apache.maven.surefire.api.testset.TestListResolver;
import org.apache.maven.surefire.api.testset.TestSetFailedException;
import org.apache.maven.surefire.api.util.SurefireReflectionUtils;

import java.io.File;
import java.util.Collection;
import java.util.LinkedList;
import java.util.List;

static List<String> getClassesLoc(File testSrcFolder) {
    DirectoryScanner directoryScanner = new DirectoryScanner(testSrcFolder, TestListResolver.getWildcard());
    try {
        directoryScanner.scan();
    } catch (TestSetFailedException e) {
        throw SurefireReflectionUtils.throwException(e);
    }
    Collection<String> classes = directoryScanner.getClasses();
    return new LinkedList<String>(classes);
}

static class DirectoryScanner {
    private final File baseDir;
    private final String[] includes;

    DirectoryScanner(File baseDir, String includes) {
        this.baseDir = baseDir;
        this.includes = new String[]{includes};
    }

    void scan() throws TestSetFailedException {
        // implementation elided for brevity
    }

    Collection<String> getClasses() {
        // implementation elided for brevity
    }
}