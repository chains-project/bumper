2c2
<     public Policy<?> getPolicy(final PolicyConfig config) {
---
> public Policy<?> getPolicy(PolicyConfig config) {
5,12c5,12
<             return new YamlPolicy(
<                 new BlockingStorage(
<                     new Storages().newStorage(
<                         sub.string("type"), Yaml.createYamlInput(sub.toString()).readYamlMapping()
<                     )
<                 )
<             );
<         } catch (final IOException err) {
---
>         return new YamlPolicy(new BlockingStorage(new com.artipie.asto.Storage.DefaultStorage(com.artipie.asto.Key.simpleKey(sub.string("type")), input -> {
>             try {
>                 return com.amihaiemil.eoyaml.Yaml.createYamlInput(sub.toString()).readYamlMapping();
>             } catch (IOException err) {
>                 throw new UncheckedIOException(err);
>             }
>         })));
>     } catch (IOException err) {
