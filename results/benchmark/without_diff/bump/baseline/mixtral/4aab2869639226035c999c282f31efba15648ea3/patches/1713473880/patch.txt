import java.io.IOException;
import com.fasterxml.jackson.databind.ObjectMapper;

import java.io.File;
import java.io.InputStream;

public class YamlPolicyFactory {
  private final ObjectMapper mapper = new ObjectMapper();

  public com.artipie.security.Policy loadPolicy(File file) {
    try (InputStream in = new FileInputStream(file)) {
      return mapper.readValue(in, com.artipie.security.Policy.class);
    } catch (IOException e) {
      throw new UncheckedIOException(e);
    }
  }
}