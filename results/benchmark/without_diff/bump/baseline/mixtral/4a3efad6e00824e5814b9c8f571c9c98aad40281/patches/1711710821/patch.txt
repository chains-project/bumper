import eu.europa.esig.dss.model.DSSException;

// ...

if (certificate == null) {
    throw new DSSException("Certificate cannot be null");
}

// Replace the following line:
// CertificationPermission permission = new CertificationPermission(certificate);

CertificationPermission permission = new CertificationPermission(certificate, CertificationPermission.PROFILE_ADOBE_PPKLITE);