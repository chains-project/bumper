protected Session session() throws IOException {
    JschSession session = new JschSession();
    return session.connect(this.getLogin(), this.getAddr(), this.getPort(),
        this.password);
}

private static class JschSession {
    public Session connect(String login, String addr, int port, String password) throws IOException {
        try {
            JSch.setLogger(new JschLogger());
            JSch jsch = new JSch();
            Logger.debug(
                "Opening SSH session to %s@%s:%s (auth with password)...",
                login, addr, port
            );
            Session session = jsch.getSession(login, addr, port);
            session.setConfig("StrictHostKeyChecking", "no");
            session.setPassword(password);
            session.setServerAliveInterval((int) TimeUnit.SECONDS.toMillis(Tv.TEN));
            session.setServerAliveCountMax(Tv.MILLION);
            session.connect((int) TimeUnit.SECONDS.toMillis(10L));
            return session;
        } catch (JSchException ex) {
            throw new IOException(ex);
        }
    }
}