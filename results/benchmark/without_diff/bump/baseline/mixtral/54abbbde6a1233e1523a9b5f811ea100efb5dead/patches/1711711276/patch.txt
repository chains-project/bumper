protected Session session() throws IOException {
    final File file = File.createTempFile("jcabi-ssh", ".key");
    try {
        JSch jsch = new JSch();
        jsch.setLogger(new JschLogger());
        jsch.setKnownHosts(new File("~", ".ssh/known_hosts").getAbsolutePath());
        jsch.setConfig("PreferredAuthentications", "publickey,keyboard-interactive,password");
        jsch.addIdentity(file.getAbsolutePath(), this.key.getBytes(StandardCharsets.UTF_8), null, this.passphrase.getBytes(StandardCharsets.UTF_8));
        Session session = jsch.getSession(this.getLogin(), this.getAddr(), this.getPort());
        session.setConfig("StrictHostKeyChecking", "no");
        session.connect();
        return session;
    } catch (JSchException ex) {
        throw new IOException(ex);
    } finally {
        Files.deleteIfExists(file.toPath());
    }
}