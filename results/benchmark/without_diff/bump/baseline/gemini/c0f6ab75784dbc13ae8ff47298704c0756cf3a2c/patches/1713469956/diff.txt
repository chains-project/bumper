2,8c2,15
<         return AnalysisEngineConfiguration.builder()
<                 .addEnabledLanguages(globalConfig.getEnabledLanguages())
<                 .setClientPid(globalConfig.getClientPid())
<                 .setExtraProperties(globalConfig.extraProperties())
<                 .setWorkDir(globalConfig.getWorkDir())
<                 .setModulesProvider(globalConfig.getModulesProvider())
<                 .build();
---
>     AnalysisEngineConfiguration.Builder builder = AnalysisEngineConfiguration.builder();
> 
>     for (String language : globalConfig.getEnabledLanguages()) {
>         builder.addEnabledLanguage(language);
>     }
> 
>     builder.setClientPid(globalConfig.getClientPid());
>     builder.setExtraProperties(globalConfig.extraProperties());
>     builder.setWorkDir(globalConfig.getWorkDir());
> 
>     // ++ Added method to set the modules provider
>     builder.setModulesProvider(globalConfig.getModulesProvider());
> 
>     return builder.build();
