3c3
<             if (isAllBlank(step.url, step.artifactoryUrl, step.distributionUrl)) {
---
>     if (step.url == null && step.artifactoryUrl == null && step.distributionUrl == null) {
6,8c6,8
<             String urlWithoutSlash = removeEnd(step.url, "/");
<             String artifactoryUrl = defaultIfBlank(step.artifactoryUrl, urlWithoutSlash + "/" + "artifactory");
<             String distributionUrl = defaultIfBlank(step.distributionUrl, urlWithoutSlash + "/" + "distribution");
---
>     String urlWithoutSlash = step.url != null ? step.url.replaceAll("/$", "") : null;
>     String artifactoryUrl = step.artifactoryUrl != null ? step.artifactoryUrl : urlWithoutSlash + "/" + "artifactory";
>     String distributionUrl = step.distributionUrl != null ? step.distributionUrl : urlWithoutSlash + "/" + "distribution";
12c12
<             if (!isEmpty(step.credentialsId)) {
---
>     if (step.credentialsId != null && !step.credentialsId.isEmpty()) {
