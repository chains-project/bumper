1c1,27
< import org.apache.maven.doxia.module.xhtml.decoration.render.RenderingContext;
\ No newline at end of file
---
> import org.apache.maven.doxia.siterenderer.RenderingContext;
> import org.apache.maven.doxia.siterenderer.sink.SiteRendererSink;
> 
> import java.io.StringWriter;
> 
> // ...
> 
> protected void renderDocument(Writer writer, RenderingContext renderingContext, SiteRenderingContext siteRenderingContext) throws SiteRendererException {
>     StringWriter stringWriter = new StringWriter();
>     SiteRendererSink sink = siteRenderingContext.createSiteRendererSink(renderingContext);
> 
>     renderingContext.setOutputName(writer.toString());
> 
>     try {
>         sink.siteRendererStartDocument();
>         sink.siteRendererBody();
>         sink.siteRendererEndDocument();
>     } finally {
>         sink.siteRendererClose();
>     }
> 
>     try {
>         stringWriter.write(sink.getContent());
>     } catch (IOException e) {
>         throw new SiteRendererException("Failed to write sink content", e);
>     }
> }
\ No newline at end of file
