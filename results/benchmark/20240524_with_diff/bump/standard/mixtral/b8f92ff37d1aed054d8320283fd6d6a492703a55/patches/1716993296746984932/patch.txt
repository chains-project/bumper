import org.apache.maven.plugin.surefire.booterclient.Commandline;
import org.apache.maven.plugin.surefire.booterclient.DefaultForkConfiguration;
import org.apache.maven.plugin.surefire.booter.StartupConfiguration;
import org.apache.maven.plugin.surefire.api.testset.TestListResolver;

import java.io.File;
import java.util.List;

static List<String> getClassesLoc(File testSrcFolder) {
    DefaultForkConfiguration defaultForkConfiguration = new DefaultForkConfiguration();
    Commandline commandLine = defaultForkConfiguration.createCommandLine(new StartupConfiguration(), 0, testSrcFolder);
    DirectoryScanner directoryScanner = new DirectoryScanner(testSrcFolder, TestListResolver.getWildcard());
    directoryScanner.setIncludes(new String[]{"**/*.class"});
    directoryScanner.scan();
    return directoryScanner.getIncludedFiles();
}