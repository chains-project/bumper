0a1
> import org.bouncycastle.crypto.tls.TlsFatalAlert;
1a3,48
> 
> import java.io.IOException;
> 
> public class ChachaDecoder {
> 
>     // ...
> 
>     private void decodeRecord(InputStream in) throws IOException {
>         // ...
> 
>         try {
>             // ...
> 
>             switch (type) {
>                 case ChangeCipherSpec:
>                     // ...
>                     break;
>                 case Alert:
>                     decodeAlert(in);
>                     break;
>                 case Handshake:
>                     decodeHandshakeRecord(in);
>                     break;
>                 case ApplicationData:
>                     decodeApplicationDataRecord(in);
>                     break;
>                 default:
>                     throw new TlsFatalAlert(TlsFatalAlert.decode(unprocessedRecord));
>             }
> 
>         } catch (IOException ex) {
>             // ...
>         }
>     }
> 
>     // ...
> 
>     private void decodeAlert(InputStream in) throws IOException {
>         int alertDescription = in.read();
>         TlsFatalAlert alert = new TlsFatalAlert(alertDescription);
>         throw alert;
>     }
> 
>     // ...
> 
> }
\ No newline at end of file
