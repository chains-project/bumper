2,8c2,11
<         return AnalysisEngineConfiguration.builder()
<                 .addEnabledLanguages(globalConfig.getEnabledLanguages())
<                 .setClientPid(globalConfig.getClientPid())
<                 .setExtraProperties(globalConfig.extraProperties())
<                 .setWorkDir(globalConfig.getWorkDir())
<                 .setModulesProvider(globalConfig.getModulesProvider())
<                 .build();
---
>         ModulesProvider modulesProvider = globalConfig.getModulesProvider();
>         AnalysisEngineConfiguration.Builder builder = AnalysisEngineConfiguration.builder();
>         builder.addEnabledLanguages(globalConfig.getEnabledLanguages());
>         builder.setClientPid(globalConfig.getClientPid());
>         builder.setExtraProperties(globalConfig.extraProperties());
>         builder.setWorkDir(globalConfig.getWorkDir());
>         if (modulesProvider != null) {
>             builder.setModulesProvider(modulesProvider);
>         }
>         return builder.build();
